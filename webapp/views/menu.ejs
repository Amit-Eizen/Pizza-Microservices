<%- include('partials/header') %>
    <div class="container">
      <div class="page-header">
        <h1>üçï Our Pizza Menu</h1>
        <p>Choose your favorite pizza and order now!</p>
      </div>

      <div class="menu-grid">
        <% pizzas.forEach(pizza => { %>
          <div class="pizza-card">
            <div class="pizza-image-container">
              <img src="<%= pizza.image %>" alt="<%= pizza.name %>" class="pizza-image">
            </div>
            <div class="pizza-details">
              <h3><%= pizza.name %></h3>
              <p class="pizza-description"><%= pizza.description %></p>
              <div class="pizza-footer">
                <div class="pizza-price">‚Ç™<%= pizza.price %></div>
                <button class="btn btn-primary" onclick="openOrderModal('<%= pizza.id %>', '<%= pizza.name %>', <%= pizza.price %>)">Order Now</button>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    </div>

    <!-- Order Modal -->
    <div id="orderModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeOrderModal()">&times;</span>
        <h2>Place Your Order</h2>
        <form id="orderForm">
          <div class="form-group">
            <label>Pizza</label>
            <input type="text" id="orderPizzaName" readonly>
            <input type="hidden" id="orderPizzaId">
          </div>

          <div class="form-group">
            <label for="quantity">Quantity</label>
            <input type="number" id="quantity" name="quantity" min="1" max="10" value="1" required>
          </div>

          <div class="form-group">
            <label for="street">Street Address</label>
            <input type="text" id="street" name="street" placeholder="123 Main St" required>
          </div>

          <div class="form-group">
            <label for="city">City</label>
            <input type="text" id="city" name="city" placeholder="Tel Aviv" required>
          </div>

          <div class="form-group">
            <label for="zipCode">Zip Code</label>
            <input type="text" id="zipCode" name="zipCode" placeholder="12345" required>
          </div>

          <div class="form-group">
            <label for="paymentMethod">Payment Method</label>
            <select id="paymentMethod" name="paymentMethod" required>
              <option value="Cash">Cash</option>
              <option value="Credit Card">Credit Card</option>
              <option value="Debit Card">Debit Card</option>
              <option value="Online">Online</option>
            </select>
          </div>

          <div class="form-group">
            <label>Total Price</label>
            <div id="totalPrice" class="total-price">‚Ç™0</div>
          </div>

          <button type="submit" class="btn btn-primary">Place Order</button>
        </form>
      </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
      <div class="modal-content success-modal-content">
        <div class="success-icon">‚úì</div>
        <h2>Order Placed Successfully!</h2>
        <p>Your delicious pizza is on its way!</p>
        <div class="success-buttons">
          <button class="btn btn-primary" onclick="goToOrders()">View My Orders</button>
          <button class="btn btn-secondary" onclick="continueOrdering()">Continue Ordering</button>
        </div>
      </div>
    </div>

    <script src="/js/orders.js"></script>

<%- include('partials/footer') %>
